(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{367:function(t,e,s){"use strict";s.r(e);var a=s(43),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"design-docs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#design-docs"}},[t._v("#")]),t._v(" Design Docs")]),t._v(" "),s("p",[t._v("Design docs site: "),s("a",{attrs:{href:"https://minidonkey.github.io/design-docs",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://minidonkey.github.io/design-docs"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Design docs should cover all the high level designs that are hard to cover in comments.")]),t._v(" "),s("h2",{attrs:{id:"overview"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),s("p",[t._v("For simplicity, design docs primarily are written in "),s("code",[t._v("markdown")]),t._v(" and rendered with "),s("a",{attrs:{href:"https://vuepress.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("VuePress"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"getting-started"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getting-started"}},[t._v("#")]),t._v(" Getting started")]),t._v(" "),s("h3",{attrs:{id:"prerequisites"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[t._v("#")]),t._v(" Prerequisites")]),t._v(" "),s("ul",[s("li",[t._v("Node JS: "),s("a",{attrs:{href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"}},[t._v("official installation guide"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Yarn: "),s("a",{attrs:{href:"https://yarnpkg.com/getting-started/install",target:"_blank",rel:"noopener noreferrer"}},[t._v("official installation guide"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"start-locally"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#start-locally"}},[t._v("#")]),t._v(" Start locally")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Clone the repsository if you haven't done so")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/tianhaoz95/photochat.git\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Go to the design docs sub-project")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" photochat/design\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Install dependencies")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Start the design docs site locally")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" docs:dev\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The local design docs site should start in http://localhost:8080")]),t._v("\n")])])]),s("h3",{attrs:{id:"code-formatting"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#code-formatting"}},[t._v("#")]),t._v(" Code formatting")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" docs:format\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("Please make sure to format the code every time before pushing to the repository. Otherwise the linter checks will fail and block pull request merging.")])]),t._v(" "),s("h3",{attrs:{id:"building-the-site"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#building-the-site"}},[t._v("#")]),t._v(" Building the site")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" docs:build\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The static site generated locates in docs/.vuepress/dist")]),t._v("\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("You almost never have to do this because the design docs are automatically deployed to the site with every valid pull request merge to the "),s("code",[t._v("master")]),t._v(" branch.")])]),t._v(" "),s("h3",{attrs:{id:"deploy-the-docs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deploy-the-docs"}},[t._v("#")]),t._v(" Deploy the docs")]),t._v(" "),s("p",[t._v("The design docs are deployed to "),s("a",{attrs:{href:"https://github.com/MiniDonkey/design-docs",target:"_blank",rel:"noopener noreferrer"}},[t._v("this repository"),s("OutboundLink")],1),t._v(" and hosted with "),s("a",{attrs:{href:"https://pages.github.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub Pages"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h3",{attrs:{id:"manual-deployment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#manual-deployment"}},[t._v("#")]),t._v(" Manual Deployment")]),t._v(" "),s("p",[t._v("First copy the files generated (located in "),s("code",[t._v("docs/.vuepress/dist")]),t._v(") from the "),s("a",{attrs:{href:"#building-the-site"}},[t._v("build step")]),t._v(" to a location outside the repository (e.g. "),s("code",[t._v("/tmp/design-docs")]),t._v(").")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# This script assumes copying the static site into /tmp/design-docs")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /tmp/design-docs\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" init\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" origin https://github.com/MiniDonkey/design-docs.git\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -A\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"docs: update"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push -u -f origin master\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("You almost never have to do this because the design docs are automatically uploaded to the hosting repository every time a pull request is merged into the "),s("code",[t._v("master")]),t._v(" branch.")])])])}),[],!1,null,null,null);e.default=n.exports}}]);